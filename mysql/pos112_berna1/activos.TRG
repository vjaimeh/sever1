TYPE=TRIGGERS
triggers='CREATE DEFINER=`pos112`@`localhost` TRIGGER `inventario_after_insert` AFTER INSERT ON `activos` FOR EACH ROW BEGIN\n\nINSERT INTO `inventario_history` \n  (`inventario_id`, `sucursal_id`, `terminal_id`, `producto_id`, \n  `entradaCantidad_prv`, `entradaCosto_prv`,\n  `inventarioPrecio_prv`, `inventarioExistencia_prv`, \n  `ajustePositivo_prv`, `ajusteNegativo_prv`, \n  `ventaCantidad_prv`, `ventaPrecio_prv`, `ventaTotal_prv`, \n  \n  `entradaCantidad_chg`,  `entradaCosto_chg`, \n  `inventarioPrecio_chg`, `inventarioExistencia_chg`, \n  `ajustePositivo_chg`, `ajusteNegativo_chg`, \n  `ventaCantidad_chg`, `ventaPrecio_chg`, `ventaTotal_chg`, \n  \n  `entradaCantidad_fin`, `entradaCosto_fin`, \n  `inventarioPrecio_fin`, `inventarioExistencia_fin`, \n  `ajustePositivo_fin`, `ajusteNegativo_fin`,\n  `ventaCantidad_fin`, `ventaPrecio_fin`, `ventaTotal_fin`, \n  \n  `modificado`, `usuario_id`) \n  \n  VALUES (\n  \n  new.id, new.`sucursal_id`, new.`terminal_id`, new.`producto_id`, \n  null, null,\n  null, null,\n  null, null,\n  null, null,null,\n  \n  new.`entradaCantidad`, new.`entradaCosto`,\n  new.`inventarioPrecio`, new.`inventarioExistencia`, \n  new.`ajustePositivo`, new.`ajusteNegativo`, \n  new.`ventaCantidad`, new.`ventaPrecio`, new.`ventaTotal`, \n  \n  new.`entradaCantidad`, new.`entradaCosto`,\n  new.`inventarioPrecio`, new.`inventarioExistencia`, \n  new.`ajustePositivo`, new.`ajusteNegativo`, \n  new.`ventaCantidad`, new.`ventaPrecio`, new.`ventaTotal`, \n  \n  NOW(), new.`usuario_id`\n  \n  );\n        \nEND' 'CREATE DEFINER=`pos112`@`localhost` TRIGGER `inventario_after_update` AFTER UPDATE ON `activos` FOR EACH ROW BEGIN\n  INSERT INTO `inventario_history` \n  (`inventario_id`, `sucursal_id`, `terminal_id`, `producto_id`, \n  `entradaCantidad_prv`, `entradaCosto_prv`,\n  `inventarioPrecio_prv`, `inventarioExistencia_prv`, \n  `ajustePositivo_prv`, `ajusteNegativo_prv`, \n  `ventaCantidad_prv`, `ventaPrecio_prv`, `ventaTotal_prv`, \n  \n  `entradaCantidad_chg`,  `entradaCosto_chg`, \n  `inventarioPrecio_chg`, `inventarioExistencia_chg`, \n  `ajustePositivo_chg`, `ajusteNegativo_chg`, \n  `ventaCantidad_chg`, `ventaPrecio_chg`, `ventaTotal_chg`, \n  \n  `entradaCantidad_fin`, `entradaCosto_fin`, \n  `inventarioPrecio_fin`, `inventarioExistencia_fin`, \n  `ajustePositivo_fin`, `ajusteNegativo_fin`,\n  `ventaCantidad_fin`, `ventaPrecio_fin`, `ventaTotal_fin`, \n  \n  `modificado`, `usuario_id`) \n  \n  VALUES (\n  \n  new.id, new.`sucursal_id`, new.`terminal_id`, new.`producto_id`, \n  \n  old.`entradaCantidad`, old.`entradaCosto`,\n  old.`inventarioPrecio`, old.`inventarioExistencia`, \n  old.`ajustePositivo`, old.`ajusteNegativo`, \n  old.`ventaCantidad`, old.`ventaPrecio`, old.`ventaTotal`,\n  \n  IF( old.entradaFecha       <> new.entradaFecha       , new.`entradaCantidad` , null) , IF( old.entradaFecha <> new.entradaFecha , new.`entradaCosto` , null),\n  IF( old.`inventarioPrecio` <> new.`inventarioPrecio` , new.`inventarioPrecio`, null) , IF( old.`inventarioExistencia` <> new.`inventarioExistencia` , new.`inventarioExistencia` - old.`inventarioExistencia`, null), \n  IF( old.ajustePositivo     <> new.ajustePositivo     , new.ajustePositivo - old.ajustePositivo , null) , IF( old.ajusteNegativo     <> new.ajusteNegativo     , old.ajusteNegativo - new.ajusteNegativo , null), \n  IF( old.ventaCantidad     <> new.ventaCantidad     , new.ventaCantidad - old.ventaCantidad , null) , IF( old.ventaPrecio     <> new.ventaPrecio     , new.ventaPrecio - old.ventaPrecio , null), IF( old.ventaTotal     <> new.ventaTotal     , new.ventaTotal - old.ventaTotal , null), \n  \n  new.`entradaCantidad`, new.`entradaCosto`,\n  new.`inventarioPrecio`, new.`inventarioExistencia`, \n  new.`ajustePositivo`, new.`ajusteNegativo`, \n  new.`ventaCantidad`, new.`ventaPrecio`, new.`ventaTotal`, \n  \n  NOW(), new.`usuario_id`\n  \n  );\n        \nEND'
sql_modes=524288 524288
definers='pos112@localhost' 'pos112@localhost'
client_cs_names='utf8mb4' 'utf8mb4'
connection_cl_names='utf8mb4_unicode_ci' 'utf8mb4_unicode_ci'
db_cl_names='latin1_swedish_ci' 'latin1_swedish_ci'
